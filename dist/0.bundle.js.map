{"version":3,"sources":["webpack://home/./src/scripts/draw.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA,cAAc,mBAAO,CAAC,8CAAc;AACpC,cAAc,mBAAO,CAAC,8CAAc;;AAE7B;AACP;AACA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED,yB","file":"0.bundle.js","sourcesContent":["let general = require(\"./general.js\");\r\nlet archive = require(\"./archive.js\");\r\n\r\nexport let draw = (function ({\r\n    subcanvas,\r\n    canvas,\r\n    ctx\r\n}, actionArchive) {\r\n    function drawStart(e) {\r\n\r\n        let isDraw = true;\r\n\r\n        let mousePos = {\r\n            x: e.layerX - 5,\r\n            y: e.layerY - 5\r\n        };\r\n\r\n        ctx.lineWidth = 2;\r\n        ctx.lineCap = \"round\";\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(mousePos.x, mousePos.y);\r\n        ctx.lineTo(mousePos.x, mousePos.y);\r\n        ctx.stroke();\r\n\r\n        function drawMove(e) {\r\n            if (isDraw) {\r\n                mousePos = {\r\n                    x: e.layerX - 5,\r\n                    y: e.layerY - 5\r\n                };\r\n\r\n                ctx.lineTo(mousePos.x, mousePos.y);\r\n                ctx.stroke();\r\n                ctx.moveTo(mousePos.x, mousePos.y);\r\n            }\r\n        }\r\n\r\n        function drawEnd(e) {\r\n            isDraw = false;\r\n            ctx.closePath();\r\n\r\n            subcanvas.removeEventListener(\"mousemove\", drawMove);\r\n            document.removeEventListener(\"mouseup\", drawEnd);\r\n\r\n            archive.clearPastImageData();\r\n            archive.save();\r\n\r\n        }\r\n\r\n        subcanvas.addEventListener(\"mousemove\", drawMove);\r\n        document.addEventListener(\"mouseup\", drawEnd);\r\n\r\n    }\r\n    subcanvas.addEventListener(\"mousedown\", drawStart);\r\n\r\n    return {}\r\n})(general, archive);\r\n\r\n// module.exports = draw;"],"sourceRoot":""}